## Obtención de testigos para el mercado inmobiliario

Proyecto basado en la obtención de los inmuebles más parecidos al que se considere como caso de estudio para realizar la tasación de una vivienda en Madrid. Siguiendo el criterio de elección de testigos y mediante el uso de un algoritmo no supervisado de machine learning como es los K-vecinos (KNN), se buscará obtener un listado de inmuebles que cumplan los criterios requeridos y puedan facilitar la labor del tasador en la selección.

Para desarrollar esta tarea se seguirán diversos pasos:

 * **Extracción de datos**: Los datos consultados se basan en datos de viviendas reales y son extraídos mediante web scraping con la librería BeautifulSoup para Python. En la extracción de las tablas html se recogen los datos de interés para el estudio. Todos los notebooks empleados para extraer los datos recorriendo zonas y subzonas de Madrid se hallan en la carpeta comprimida [Scraping_TFM.rar](https://github.com/luismba/KSchoolTFM/blob/main/tfm_kschool-main/tfm_kschool-main/Scraping_TFM.rar).
 
 * **Tratamiento y limpieza de datos**: En este paso se eliminan los posibles duplicados, registros mal extraídos o campos sin información y se analizan los obtenidos para generar campos que aporten más información. El objetivo de esta etapa es obtener un dataset limpio con las variables generadas a partir de la descripción de los campos de texto de los inmuebles y las transformadas mediante *feature engineering*. Este paso se encuentra en el notebook [Tratamiento_y_limpieza_de_datos.ipynb](https://github.com/luismba/KSchoolTFM/blob/main/tfm_kschool-main/tfm_kschool-main/Tratamiento_y_limpieza_de_datos.ipynb).
 
 * **Modelado**: Aquí se realiza un análisis exploratorio de los datos mediante una visualización de las diferentes variables para establecer la importancia de las mismas antes del modelado. Una vez se obtienen las variables predictoras para el modelo, se estandarizan y se implementa una validación cruzada con una ponderación de pesos en las variables para implementar una parametrización del modelo más acorde a lo requerido para la obtención de testigos. Finalmente se obtiene como predicción un listado con K (parámetro variable con valor seleccionado en el algoritmo KNN) viviendas, que servirán de guía para los posibles tasadores. Todo esto se recoge en el notebook [Modelado.ipynb](https://github.com/luismba/KSchoolTFM/blob/main/tfm_kschool-main/tfm_kschool-main/Modelado.ipynb) 
 
 * **Scripts proceso automatizado**: Por último, se emplean un par de scripts en lenguaje Python como muestra del proceso de trabajo a seguir automatizando las etapas descritas en los anteriores pasos. Se busca establecer unos pasos para automatizar el proceso de limpieza y tratamiento y modelado según la estandarización empleada en el entrenamiento para poder extrapolar el trabajo a nuevos conjuntos de datos que amplíen a los recogidos. Esta última fase se recoge en los scripts [workflow.py](https://github.com/luismba/KSchoolTFM/blob/main/tfm_kschool-main/tfm_kschool-main/workflow.py) y en el notebook [client.ipynb](https://github.com/luismba/KSchoolTFM/blob/main/tfm_kschool-main/tfm_kschool-main/client.ipynb)
 
 *NOTA*: Los datos extraídos durante el proyecto y empleados para ejecutar los notebooks y scripts no se incluyen en el repositorio debido a que son propiedad del Idealista. Simplemente se expone el proceso realizado mediante los notebooks y cómo realizar un modelado para la obtención de vecinos basado en el criterio de los testigos en un mercado inmobiliario.
